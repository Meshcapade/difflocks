{

    "model": {
        "type": "image_transformer_v2_conditional",
        "cross_cond": 1,
        "condition_dropout_rate": 0.1,
        "input_channels": 65,
        "input_size": [256, 256],
        "patch_size": [2, 2],
        "depths": [2, 2, 2],
        "widths": [1024, 2048, 3072],
        "d_ffs": [1024, 2048, 3072],
        "self_attns": [
            {"type": "neighborhood", "d_head": 64, "kernel_size": 7},
            {"type": "neighborhood", "d_head": 64, "kernel_size": 7},
            {"type": "global", "d_head": 64}
        ],
        "parametrization": "v",
        "loss_config": "karras",
        "loss_weighting": "snr",
        "dropout_rate": [0.0, 0.0, 0.1],
        "mapping_width": 768,
        "mapping_d_ff": 1024,
        "mapping_dropout_rate": 0.0,
        "augment_prob": 0.0,
        "sigma_data": 0.3,
        "sigma_min": 1e-2,
        "sigma_max": 160,
        "sigma_sample_density": {
            "type": "cosine-interpolated",
            "noise_d_low": 64
        },

        "rgb_condition":{
            "global_condition_shape": [1, 1024],
            "local_condition_shapes": [
                {"shape": [1, 1024, 55, 55]},
                {"shape": [1, 1024, 55, 55]},
                {"shape": [1, 1024, 55, 55]}
            ],
            "cross_condition_dim": [512,512,512],
            "self_attn": [false,true,true]
        },

        "loss_weight_per_channel":[
            0.05580984428524971, 0.030566953122615814, 0.025709286332130432, 0.05716482549905777, 0.023201454430818558, 0.08562534302473068, 0.017659854143857956, 0.07521561533212662, 0.0483829528093338, 0.017475251108407974, 0.021301859989762306, 0.006980733945965767, 0.06842825561761856, 0.16614384949207306, 0.028791628777980804, 0.07338058203458786, 0.08613209426403046, 0.01631935127079487, 0.015131217427551746, 0.06258893758058548, 0.058801501989364624, 0.05222005024552345, 0.03300714120268822, 0.028619959950447083, 0.066630519926548, 0.10768849402666092, 0.07185778766870499, 0.08246062695980072, 0.08738923817873001, 0.5705997943878174, 0.059733662754297256, 0.1032959371805191, 0.008284210227429867, 0.028203167021274567, 0.015574352815747261, 0.031722474843263626, 0.11103591322898865, 1.0, 0.33545804023742676, 0.02750393934547901, 0.037128742784261703, 0.04466118663549423, 0.0203529242426157, 0.018273167312145233, 0.140573188662529, 0.08498218655586243, 0.05887111648917198, 0.022760389372706413, 0.1844673603773117, 0.052569273859262466, 0.12437944859266281, 0.011494286358356476, 0.3124508857727051, 0.0704188272356987, 0.21793445944786072, 0.04560207203030586, 0.14500388503074646, 0.01105482131242752, 0.028649816289544106, 0.015449784696102142, 0.06804649531841278, 0.01901610754430294, 0.036636028438806534, 0.04171859472990036,

            1.0
        ]
    },
    "optimizer": {
        "lr": 5e-4,
        "betas": [0.9, 0.95],
        "eps": 1e-8,
        "weight_decay": 1e-3
    },
    "lr_sched": {
        "type": "constant",
        "warmup": 0.0
    },
    "ema_sched": {
        "type": "inverse",
        "power": 0.75,
        "max_value": 0.9999
    }
}

